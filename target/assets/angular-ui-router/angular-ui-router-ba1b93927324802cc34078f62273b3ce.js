/*
 MIT License, http://www.opensource.org/licenses/MIT
*/
"undefined"!==typeof module&&"undefined"!==typeof exports&&module.exports===exports&&(module.exports="ui.router");
(function(ua,r,va){function M(b,e){return u(new (u(function(){},{prototype:b})),e)}function Q(b){t(arguments,function(e){e!==b&&t(e,function(d,m){b.hasOwnProperty(m)||(b[m]=d)})});return b}function J(b){if(Object.keys)return Object.keys(b);var e=[];t(b,function(b,m){e.push(m)});return e}function z(b,e,d){if(Array.prototype.indexOf)return b.indexOf(e,Number(d)||0);var m=b.length>>>0;d=Number(d)||0;d=0>d?Math.ceil(d):Math.floor(d);for(0>d&&(d+=m);d<m;d++)if(d in b&&b[d]===e)return d;return-1}function W(b,
e,d,m){var n=[],l;for(l in d.path){if(d.path[l]!==m.path[l])break;n.push(d.path[l])}m={};l=[];for(var p in n)if(n[p]&&n[p].params&&(d=J(n[p].params),d.length))for(var k in d)0<=z(l,d[k])||(l.push(d[k]),m[d[k]]=b[d[k]]);return u({},m,e)}function R(b,e,d){if(!d){d=[];for(var m in b)d.push(m)}for(m=0;m<d.length;m++){var n=d[m];if(b[n]!=e[n])return!1}return!0}function N(b,e){var d={};t(b,function(b){d[b]=e[b]});return d}function X(b){var e={},d=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,
1));t(d,function(d){d in b&&(e[d]=b[d])});return e}function K(b){var e={},d=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1)),m;for(m in b)-1==z(d,m)&&(e[m]=b[m]);return e}function S(b,e){var d=A(b),m=d?[]:{};t(b,function(b,l){e(b,l)&&(m[d?m.length:l]=b)});return m}function I(b,e){var d=A(b)?[]:{};t(b,function(b,n){d[n]=e(b,n)});return d}function Y(b,e){var d={},m=[],n=u(b.when(d),{$$promises:d,$$values:d});this.study=function(l){function p(g,c){if(2!==q[c]){a.push(c);
if(1===q[c])throw a.splice(0,z(a,c)),Error("Cyclic dependency: "+a.join(" -> "));q[c]=1;if(y(g))f.push(c,[function(){return e.get(g)}],m);else{var b=e.annotate(g);t(b,function(g){g!==c&&l.hasOwnProperty(g)&&p(l[g],g)});f.push(c,g,b)}a.pop();q[c]=2}}function k(g){return E(g)&&g.then&&g.$$promises}if(!E(l))throw Error("'invocables' must be an object");var h=J(l||{}),f=[],a=[],q={};t(l,p);l=a=q=null;return function(g,c,a){function s(){--sa||(O||Q(p,c.$$values),B.$$values=p,B.$$promises=B.$$promises||
!0,delete B.$$inheritedValues,q.resolve(p))}function m(c){B.$$failure=c;q.reject(c)}function l(c,d,f){function k(c){h.reject(c);m(c)}function q(){if(!v(B.$$failure))try{h.resolve(e.invoke(d,a,p)),h.promise.then(function(g){p[c]=g;s()},k)}catch(g){k(g)}}var h=b.defer(),F=0;t(f,function(c){H.hasOwnProperty(c)&&!g.hasOwnProperty(c)&&(F++,H[c].then(function(g){p[c]=g;--F||q()},k))});F||q();H[c]=h.promise}k(g)&&void 0===a&&(a=c,c=g,g=null);if(!g)g=d;else if(!E(g))throw Error("'locals' must be an object");
if(!c)c=n;else if(!k(c))throw Error("'parent' must be a promise returned by $resolve.resolve()");var q=b.defer(),B=q.promise,H=B.$$promises={},p=u({},g),sa=1+f.length/3,O=!1;if(v(c.$$failure))return m(c.$$failure),B;c.$$inheritedValues&&Q(p,K(c.$$inheritedValues,h));u(H,c.$$promises);c.$$values?(O=Q(p,K(c.$$values,h)),B.$$inheritedValues=K(c.$$values,h),s()):(c.$$inheritedValues&&(B.$$inheritedValues=K(c.$$inheritedValues,h)),c.then(s,m));for(var r=0,y=f.length;r<y;r+=3)g.hasOwnProperty(f[r])?s():
l(f[r],f[r+1],f[r+2]);return B}};this.resolve=function(b,d,m,e){return this.study(b)(d,m,e)}}function $(b,e,d){this.fromConfig=function(b,d,e){return v(b.template)?this.fromString(b.template,d):v(b.templateUrl)?this.fromUrl(b.templateUrl,d):v(b.templateProvider)?this.fromProvider(b.templateProvider,d,e):null};this.fromString=function(b,d){return w(b)?b(d):b};this.fromUrl=function(d,n){w(d)&&(d=d(n));return null==d?null:b.get(d,{cache:e,headers:{Accept:"text/html"}}).then(function(b){return b.data})};
this.fromProvider=function(b,e,l){return d.invoke(b,null,l||{params:e})}}function C(b,e,d){function m(a,d,s,e){L.push(a);if(g[a])return g[a];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(a))throw Error("Invalid parameter name '"+a+"' in pattern '"+b+"'");if(c[a])throw Error("Duplicate parameter name '"+a+"' in pattern '"+b+"'");c[a]=new G.Param(a,d,s,e);return c[a]}function n(c,g,a,b){var d=["",""];c=c.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!g)return c;switch(a){case !1:d=["(",")"+(b?"?":"")];break;case !0:c=
c.replace(/\/$/,"");d=["(?:/(",")|/)?"];break;default:d=["("+a+"|",")?"]}return c+d[0]+g+d[1]}function l(c,g){var a,d,L,s,m;a=c[2]||c[3];m=e.params[a];L=b.substring(f,c.index);(d=g?c[4]:c[4]||("*"==c[1]?".*":null))&&(s=G.type(d)||M(G.type("string"),{pattern:new RegExp(d,e.caseInsensitive?"i":void 0)}));return{id:a,regexp:d,segment:L,type:s,cfg:m}}e=u({params:{}},E(e)?e:{});var p=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,
h="^",f=0,a,q=this.segments=[],g=d?d.params:{},c=this.params=d?d.params.$$new():new G.ParamSet,L=[];this.source=b;for(var s;a=p.exec(b);){a=l(a,!1);if(0<=a.segment.indexOf("?"))break;s=m(a.id,a.type,a.cfg,"path");h+=n(a.segment,s.type.pattern.source,s.squash,s.isOptional);q.push(a.segment);f=p.lastIndex}d=b.substring(f);a=d.indexOf("?");if(0<=a){var Z=this.sourceSearch=d.substring(a);d=d.substring(0,a);this.sourcePath=b.substring(0,f+a);if(0<Z.length)for(f=0;a=k.exec(Z);)a=l(a,!0),s=m(a.id,a.type,
a.cfg,"search"),f=p.lastIndex}else this.sourcePath=b,this.sourceSearch="";h+=n(d)+(!1===e.strict?"/?":"")+"$";q.push(d);this.regexp=new RegExp(h,e.caseInsensitive?"i":void 0);this.prefix=q[0];this.$$paramNames=L}function D(b){u(this,b)}function aa(){function b(a){return null!=a?a.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):a}function e(a){return w(a)||A(a)&&w(a[a.length-1])}function d(){for(;f.length;){var g=f.shift();if(g.pattern)throw Error("You cannot override a type's .pattern at runtime.");
r.extend(k[g.name],a.invoke(g.def))}}function m(a){u(this,a||{})}G=this;var n=!1,l=!0,p=!1,k={},h=!0,f=[],a,q={string:{encode:b,decode:function(a){return null!=a?a.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):a},is:function(a){return null==a||!v(a)||"string"===typeof a},pattern:/[^/]*/},"int":{encode:b,decode:function(a){return parseInt(a,10)},is:function(a){return v(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,
10)},is:function(a){return!0===a||!1===a},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):void 0},decode:function(a){return this.is(a)?a:(a=this.capture.exec(a))?new Date(a[1],a[2]-1,a[3]):void 0},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,c){return this.is(a)&&this.is(c)&&a.toISOString()===c.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,
capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:r.toJson,decode:r.fromJson,is:r.isObject,equals:r.equals,pattern:/[^/]*/},any:{encode:r.identity,decode:r.identity,equals:r.equals,pattern:/.*/}};aa.$$getDefaultValue=function(b){if(!e(b.value))return b.value;if(!a)throw Error("Injectable functions cannot be called at configuration time");return a.invoke(b.value)};this.caseInsensitive=function(a){v(a)&&(n=a);return n};this.strictMode=function(a){v(a)&&(l=a);return l};this.defaultSquashPolicy=
function(a){if(!v(a))return p;if(!0!==a&&!1!==a&&!y(a))throw Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return p=a};this.compile=function(a,c){return new C(a,u({strict:l,caseInsensitive:n},c))};this.isMatcher=function(a){if(!E(a))return!1;var c=!0;t(C.prototype,function(b,d){w(b)&&(c=c&&v(a[d])&&w(a[d]))});return c};this.type=function(a,c,b){if(!v(c))return k[a];if(k.hasOwnProperty(a))throw Error("A type named '"+a+"' has already been defined.");k[a]=new D(u({name:a},
c));b&&(f.push({name:a,def:b}),h||d());return this};t(q,function(a,c){k[c]=new D(u({name:c},a))});k=M(k,{});this.$get=["$injector",function(b){a=b;h=!1;d();t(q,function(a,b){k[b]||(k[b]=new D(a))});return this}];this.Param=function(b,c,d,s){function f(){if(!a)throw Error("Injectable functions cannot be called at configuration time");var c=a.invoke(d.$$fn);if(null!==c&&void 0!==c&&!m.type.is(c))throw Error("Default value ("+c+") for parameter '"+m.id+"' is not an instance of Type ("+m.type.name+")");
return c}var m=this;d=function(a){var c=E(a)?J(a):[];-1===z(c,"value")&&-1===z(c,"type")&&-1===z(c,"squash")&&-1===z(c,"array")&&(a={value:a});a.$$fn=e(a.value)?a.value:function(){return a.value};return a}(d);c=function(a,c,d){if(a.type&&c)throw Error("Param '"+b+"' has two type configurations.");return c?c:a.type?r.isString(a.type)?k[a.type]:a.type instanceof D?a.type:new D(a.type):"config"===d?k.any:k.string}(d,c,s);var q=function(){var a={array:"search"===s?"auto":!1},c=b.match(/\[\]$/)?{array:!0}:
{};return u(a,c,d).array}();c=q?c.$asArray(q,"search"===s):c;"string"!==c.name||q||"path"!==s||void 0!==d.value||(d.value="");var h=void 0!==d.value,l=function(a,c){var b=a.squash;if(!c||!1===b)return!1;if(!v(b)||null==b)return p;if(!0===b||y(b))return b;throw Error("Invalid squash policy: '"+b+"'. Valid policies: false, true, or arbitrary string");}(d,h),n=function(a,c,b,d){var g;c=[{from:"",to:b||c?void 0:""},{from:null,to:b||c?void 0:""}];a=A(a.replace)?a.replace:[];y(d)&&a.push({from:d,to:void 0});
g=I(a,function(a){return a.from});return S(c,function(a){return-1===z(g,a.from)}).concat(a)}(d,q,h,l);u(this,{id:b,type:c,location:s,array:q,squash:l,replace:n,isOptional:h,value:function(a){function c(a){return function(c){return c.from===a}}a=function(a){var b=I(S(m.replace,c(a)),function(a){return a.to});return b.length?b[0]:a}(a);return v(a)?m.type.$normalize(a):f()},dynamic:void 0,config:d,toString:function(){return"{Param:"+b+" "+c+" squash: '"+l+"' optional: "+h+"}"}})};m.prototype={$$new:function(){return M(this,
u(new m,{$$parent:this}))},$$keys:function(){for(var a=[],c=[],b=this,d=J(m.prototype);b;)c.push(b),b=b.$$parent;c.reverse();t(c,function(c){t(J(c),function(c){-1===z(a,c)&&-1===z(d,c)&&a.push(c)})});return a},$$values:function(a){var c={},b=this;t(b.$$keys(),function(d){c[d]=b[d].value(a&&a[d])});return c},$$equals:function(a,c){var b=!0,d=this;t(d.$$keys(),function(e){d[e].type.equals(a&&a[e],c&&c[e])||(b=!1)});return b},$$validates:function(a){var c=this.$$keys(),b,d,e;for(b=0;b<c.length;b++){d=
this[c[b]];e=a[c[b]];if((void 0===e||null===e)&&d.isOptional)break;e=d.type.$normalize(e);if(!d.type.is(e))return!1;e=d.type.encode(e);if(r.isString(e)&&!d.type.pattern.exec(e))return!1}return!0},$$parent:void 0};this.ParamSet=m}function ba(b,e){function d(a){a=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=a?a[1].replace(/\\(.)/g,"$1"):""}function m(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function n(a,b,d){if(!d)return!1;
a=a.invoke(b,b,{$match:d});return v(a)?a:!0}function l(a,d,e,c,m){function s(c){function b(c){c=c(e,a);if(!c)return!1;y(c)&&a.replace().url(c);return!0}if(!c||!c.defaultPrevented){B&&a.url();B=void 0;c=p.length;var d;for(d=0;d<c;d++)if(b(p[d]))return;k&&b(k)}}function l(){return f=f||d.$on("$locationChangeSuccess",s)}var n=c.baseHref(),T=a.url(),B;h||l();return{sync:function(){s()},listen:function(){return l()},update:function(c){c?T=a.url():a.url()!==T&&(a.url(T),a.replace())},push:function(c,b,
d){c=c.format(b||{});null!==c&&b&&b["#"]&&(c+="#"+b["#"]);a.url(c);B=d&&d.$$avoidResync?a.url():void 0;d&&d.replace&&a.replace()},href:function(c,d,e){if(!c.validates(d))return null;var f=b.html5Mode();r.isObject(f)&&(f=f.enabled);f=f&&m.history;c=c.format(d);e=e||{};f||null===c||(c="#"+b.hashPrefix()+c);null!==c&&d&&d["#"]&&(c+="#"+d["#"]);d=e.absolute;c="/"===n?c:f?n.slice(0,-1)+c:d?n.slice(1)+c:c;if(!e.absolute||!c)return c;e=!f&&c?"/":"";f=a.port();f=80===f||443===f?"":":"+f;return[a.protocol(),
"://",a.host(),f,e,c].join("")}}}var p=[],k=null,h=!1,f;this.rule=function(a){if(!w(a))throw Error("'rule' must be a function");p.push(a);return this};this.otherwise=function(a){if(y(a)){var b=a;a=function(){return b}}else if(!w(a))throw Error("'rule' must be a function");k=a;return this};this.when=function(a,b){var f,c=y(b);y(a)&&(a=e.compile(a));if(!c&&!w(b)&&!A(b))throw Error("invalid 'handler' in when()");var L={matcher:function(a,b){c&&(f=e.compile(b),b=["$match",function(a){return f.format(a)}]);
return u(function(c,d){return n(c,b,a.exec(d.path(),d.search()))},{prefix:y(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw Error("when() RegExp must not be global or sticky");c&&(f=b,b=["$match",function(a){return m(f,a)}]);return u(function(c,d){return n(c,b,a.exec(d.path()))},{prefix:d(a)})}},s={matcher:e.isMatcher(a),regex:a instanceof RegExp},h;for(h in s)if(s[h])return this.rule(L[h](a,b));throw Error("invalid 'what' in when()");};this.deferIntercept=function(a){void 0===
a&&(a=!0);h=a};this.$get=l;l.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function ca(b,e){function d(a,b){if(a){var e=y(a),m=e?a:a.name,g=m;if(0===g.indexOf(".")||0===g.indexOf("^")){if(!b)throw Error("No reference point given for path '"+m+"'");b=d(b);for(var g=m.split("."),h=0,l=g.length,k=b;h<l;h++)if(""===g[h]&&0===h)k=b;else if("^"===g[h]){if(!k.parent)throw Error("Path '"+m+"' not valid for state '"+b.name+"'");k=k.parent}else break;g=g.slice(h).join(".");m=k.name+(k.name&&
g?".":"")+g}if((m=f[m])&&(e||!e&&(m===a||m.self===a)))return m}}function m(a,b){q[a]||(q[a]=[]);q[a].push(b)}function n(a){for(a=q[a]||[];a.length;)l(a.shift())}function l(c){c=M(c,{self:c,resolve:c.resolve||{},toString:function(){return this.name}});var d=c.name;if(!y(d)||0<=d.indexOf("@"))throw Error("State must have a valid name");if(f.hasOwnProperty(d))throw Error("State '"+d+"' is already defined");var e=-1!==d.indexOf(".")?d.substring(0,d.lastIndexOf(".")):y(c.parent)?c.parent:E(c.parent)&&
y(c.parent.name)?c.parent.name:"";if(e&&!f[e])return m(e,c.self);for(var h in g)w(g[h])&&(c[h]=g[h](c,g.$delegates[h]));f[d]=c;!c["abstract"]&&c.url&&b.when(c.url,["$match","$stateParams",function(b,d){a.$current.navigable==c&&R(b,d)||a.transitionTo(c,b,{inherit:!0,location:!1})}]);n(d);return c}function p(c,b,e,m,g,l,q,n,p){function D(d,e,f,m){e=c.$broadcast("$stateNotFound",d,e,f);if(e.defaultPrevented)return q.update(),C;if(!e.retry)return null;if(m.$retry)return q.update(),K;var g=a.transition=
b.when(e.retry);g.then(function(){if(g!==a.transition)return P;d.options.$retry=!0;return a.transitionTo(d.to,d.toParams,d.options)},function(){return C});q.update();return g}function O(a,c,d,f,h,l){var k=d?c:N(a.params.$$keys(),c);h.resolve=g.resolve(a.resolve,{$stateParams:k},h.resolve,a);c=[h.resolve.then(function(a){h.globals=a})];f&&c.push(f);return b.all(c).then(function(){var c=[];t(a.views,function(b,d){var f=b.resolve&&b.resolve!==a.resolve?b.resolve:{};f.$template=[function(){return e.load(d,
{view:b,locals:h.globals,params:k,notify:l.notify})||""}];c.push(g.resolve(f,h.globals,h.resolve,a).then(function(c){if(w(b.controllerProvider)||A(b.controllerProvider)){var e=r.extend({},f,h.globals);c.$$controller=m.invoke(b.controllerProvider,null,e)}else c.$$controller=b.controller;c.$$state=a;c.$$controllerAs=b.controllerAs;h[d]=c}))});return b.all(c).then(function(){return h.globals})}).then(function(a){return h})}var P=b.reject(Error("transition superseded")),G=b.reject(Error("transition prevented")),
C=b.reject(Error("transition aborted")),K=b.reject(Error("transition failed"));h.locals={resolve:null,globals:{$stateParams:{}}};return a={params:{},current:h.self,$current:h,transition:null,reload:function(c){return a.transitionTo(a.current,l,{reload:c||!0,inherit:!1,notify:!0})},go:function(c,b,d){return a.transitionTo(c,b,u({inherit:!0,relative:a.$current},d))},transitionTo:function(e,f,g){f=f||{};g=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},g||{});var s=a.$current,
n=a.params,p=s.path,r,x=d(e,g.relative),t=f["#"];if(!v(x)){var x={to:e,toParams:f,options:g},F=D(x,s.self,n,g);if(F)return F;e=x.to;f=x.toParams;g=x.options;x=d(e,g.relative);if(!v(x)){if(!g.relative)throw Error("No such state '"+e+"'");throw Error("Could not resolve '"+e+"' from state '"+g.relative+"'");}}if(x["abstract"])throw Error("Cannot transition to abstract state '"+e+"'");g.inherit&&(f=W(l,f||{},a.$current,x));if(!x.params.$$validates(f))return K;f=x.params.$$values(f);e=x;var z=e.path,w=
0,x=z[w],F=h.locals,C=[];if(!g.reload)for(;x&&x===p[w]&&x.ownParams.$$equals(f,n);)F=C[w]=x.locals,w++,x=z[w];else if(y(g.reload)||E(g.reload)){if(E(g.reload)&&!g.reload.name)throw Error("Invalid reload state object");var A=!0===g.reload?p[0]:d(g.reload);if(g.reload&&!A)throw Error("No such reload state '"+(y(g.reload)?g.reload:g.reload.name)+"'");for(;x&&x===p[w]&&x!==A;)F=C[w]=x.locals,w++,x=z[w]}if(k(e,f,s,n,F,g))return t&&(f["#"]=t),a.params=f,U(a.params,l),U(N(e.params.$$keys(),l),e.locals.globals.$stateParams),
g.location&&e.navigable&&e.navigable.url&&(q.push(e.navigable.url,f,{$$avoidResync:!0,replace:"replace"===g.location}),q.update(!0)),a.transition=null,b.when(a.current);f=N(e.params.$$keys(),f||{});t&&(f["#"]=t);if(g.notify&&c.$broadcast("$stateChangeStart",e.self,f,s.self,n,g).defaultPrevented)return c.$broadcast("$stateChangeCancel",e.self,f,s.self,n),null==a.transition&&q.update(),G;t=b.when(F);for(A=w;A<z.length;A++,x=z[A])F=C[A]=M(F),t=O(x,f,x===e,t,F,g);var H=a.transition=t.then(function(){var b,
d;if(a.transition!==H)return P;for(b=p.length-1;b>=w;b--)d=p[b],d.self.onExit&&m.invoke(d.self.onExit,d.self,d.locals.globals),d.locals=null;for(b=w;b<z.length;b++)d=z[b],d.locals=C[b],d.self.onEnter&&m.invoke(d.self.onEnter,d.self,d.locals.globals);if(a.transition!==H)return P;a.$current=e;a.current=e.self;a.params=f;U(a.params,l);a.transition=null;g.location&&e.navigable&&q.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===g.location});g.notify&&
c.$broadcast("$stateChangeSuccess",e.self,f,s.self,n);q.update(!0);return a.current},function(d){if(a.transition!==H)return P;a.transition=null;r=c.$broadcast("$stateChangeError",e.self,f,s.self,n,d);r.defaultPrevented||q.update();return b.reject(d)});return H},is:function(c,b,e){e=u({relative:a.$current},e||{});c=d(c,e.relative);return v(c)?a.$current!==c?!1:b?R(c.params.$$values(b),l):!0:void 0},includes:function(c,b,e){e=u({relative:a.$current},e||{});if(y(c)&&-1<c.indexOf("*")){c=c.split(".");
for(var f=a.$current.name.split("."),g=0,h=c.length;g<h;g++)"*"===c[g]&&(f[g]="*");"**"===c[0]&&(f=f.slice(z(f,c[1])),f.unshift("**"));"**"===c[c.length-1]&&(f.splice(z(f,c[c.length-2])+1,Number.MAX_VALUE),f.push("**"));c=c.length!=f.length?!1:f.join("")===c.join("");if(!c)return!1;c=a.$current.name}e=d(c,e.relative);return v(e)?v(a.$current.includes[e.name])?b?R(e.params.$$values(b),l,J(b)):!0:!1:void 0},href:function(c,b,e){e=u({lossy:!0,inherit:!0,absolute:!1,relative:a.$current},e||{});c=d(c,
e.relative);if(!v(c))return null;e.inherit&&(b=W(l,b||{},a.$current,c));var f=c&&e.lossy?c.navigable:c;return f&&void 0!==f.url&&null!==f.url?q.href(f.url,N(c.params.$$keys().concat("#"),b||{}),{absolute:e.absolute}):null},get:function(c,b){if(0===arguments.length)return I(J(f),function(c){return f[c].self});var e=d(c,b||a.$current);return e&&e.self?e.self:null}}}function k(c,a,b,d,e,f){function g(c,a,b){var d=c.params.$$keys().filter(function(a){return"search"!=c.params[a].location}),d=X.apply({},
[c.params].concat(d));return(new G.ParamSet(d)).$$equals(a,b)}if(!f.reload&&c===b&&(e===b.locals||!1===c.self.reloadOnSearch&&g(b,d,a)))return!0}var h,f={},a,q={},g={parent:function(c){return v(c.parent)&&c.parent?d(c.parent):(c=/^(.+)\.[^.]+$/.exec(c.name))?d(c[1]):h},data:function(c){c.parent&&c.parent.data&&(c.data=c.self.data=M(c.parent.data,c.data));return c.data},url:function(c){var a=c.url,b={params:c.params||{}};if(y(a))return"^"==a.charAt(0)?e.compile(a.substring(1),b):(c.parent.navigable||
h).url.concat(a,b);if(!a||e.isMatcher(a))return a;throw Error("Invalid url '"+a+"' in state '"+c+"'");},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new G.ParamSet;t(a.params||{},function(a,c){b[c]||(b[c]=new G.Param(c,null,a,"config"))});return b},params:function(a){var b=X(a.ownParams,a.ownParams.$$keys());return a.parent&&a.parent.params?u(a.parent.params.$$new(),b):new G.ParamSet},views:function(a){var b={};t(v(a.views)?
a.views:{"":a},function(d,e){0>e.indexOf("@")&&(e+="@"+a.parent.name);b[e]=d});return b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?u({},a.parent.includes):{};b[a.name]=!0;return b},$delegates:{}};h=l({name:"",url:"^",views:null,"abstract":!0});h.navigable=null;this.decorator=function(a,b){if(y(a)&&!v(b))return g[a];if(!w(b)||!y(a))return this;g[a]&&!g.$delegates[a]&&(g.$delegates[a]=g[a]);g[a]=b;return this};this.state=function(a,b){E(a)?b=a:
b.name=a;l(b);return this};this.$get=p;p.$inject="$rootScope $q $view $injector $resolve $stateParams $urlRouter $location $urlMatcherFactory".split(" ")}function da(){function b(b,d){return{load:function(b,e){var l;e=u({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},e);e.view&&(l=d.fromConfig(e.view,e.params,e.locals));return l}}}this.$get=b;b.$inject=["$rootScope","$templateFactory"]}function ea(b,e,d,m){function n(b,d){function a(a){return 1===fa&&4<=ga?!!k.enabled(a):
1===fa&&2<=ga?!!k.enabled():!!p}var e={enter:function(a,b,d){b.after(a);d()},leave:function(a,b){a.remove();b()}};if(b.noanimation)return e;if(k)return{enter:function(c,b,d){a(c)?2<r.version.minor?k.enter(c,null,b).then(d):k.enter(c,null,b,d):e.enter(c,b,d)},leave:function(b,d){a(b)?2<r.version.minor?k.leave(b).then(d):k.leave(b,d):e.leave(b,d)}};if(p){var g=p&&p(d,b);return{enter:function(a,b,d){g.enter(a,null,b);d()},leave:function(a,b){g.leave(a);b()}}}return e}var l=function(){return e.has?function(b){return e.has(b)?
e.get(b):null}:function(b){try{return e.get(b)}catch(d){return null}}}(),p=l("$animator"),k=l("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,f,a){return function(e,f,c){function h(){var a=k,b=t;b&&(b._willBeDestroyed=!0);p?(w.leave(p,function(){a&&a.remove();b&&b.$destroy();k=null}),k=p):(a&&a.remove(),b&&b.$destroy(),k=null);t=p=null}function l(k){var n=ha(e,c,f,m),s=n&&b.$current&&b.$current.locals[n];!k&&s===B||e._willBeDestroyed||(k=e.$new(),
B=b.$current.locals[n],k.$emit("$viewContentLoading",n),p=a(k,function(a){w.enter(a,f,function(){t&&t.$emit("$viewContentAnimationEnded");(r.isDefined(u)&&!u||e.$eval(u))&&d(a)});h()}),t=k,t.$emit("$viewContentLoaded",n),t.$eval(v))}var k,p,t,B,v=c.onload||"",u=c.autoscroll,w=n(c,e);e.$on("$stateChangeSuccess",function(){l(!1)});l(!0)}}}}function ia(b,e,d,m){return{restrict:"ECA",priority:-400,compile:function(n){var l=n.html();return function(n,k,h){var f=d.$current;h=ha(n,h,k,m);if(f=f&&f.locals[h]){k.data("$uiView",
{name:h,state:f.$$state});k.html(f.$template?f.$template:l);h=b(k.contents());if(f.$$controller){f.$scope=n;f.$element=k;var a=e(f.$$controller,f);f.$$controllerAs&&(n[f.$$controllerAs]=a);k.data("$ngControllerController",a);k.children().data("$ngControllerController",a)}h(n)}}}}}function ha(b,e,d,m){b=m(e.uiView||e.name||"")(b);d=d.inheritedData("$uiView");return 0<=b.indexOf("@")?b:b+"@"+(d?d.state.name:"")}function ja(b,e){var d=b.match(/^\s*({[^}]*})\s*$/);d&&(b=e+"("+d[1]+")");d=b.replace(/\n/g,
" ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!d||4!==d.length)throw Error("Invalid state ref '"+b+"'");return{state:d[1],paramExpr:d[3]||null}}function ka(b){if((b=b.parent().inheritedData("$uiView"))&&b.state&&b.state.name)return b.state}function la(b){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(b.prop("href")),d="FORM"===b[0].nodeName;return{attr:d?"action":e?"xlink:href":"href",isAnchor:"A"===b.prop("tagName").toUpperCase(),clickable:!d}}function ma(b,e,d,m,n){return function(l){var p=
l.which||l.button,k=n();if(!(1<p||l.ctrlKey||l.metaKey||l.shiftKey||b.attr("target"))){var h=d(function(){e.go(k.state,k.params,k.options)});l.preventDefault();var f=m.isAnchor&&!k.href?1:0;l.preventDefault=function(){0>=f--&&d.cancel(h)}}}}function ta(b,e){return{relative:ka(b)||e.$current,inherit:!0}}function na(b,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,m,n,l){var p=ja(n.uiSref,b.current.name),k={state:p.state,href:null,params:null},h=la(m),f=l[1]||l[0];
k.options=u(ta(m,b),n.uiSrefOpts?d.$eval(n.uiSrefOpts):{});var a=function(a){a&&(k.params=r.copy(a));k.href=b.href(p.state,k.params,k.options);f&&f.$$addStateInfo(p.state,k.params);null!==k.href&&n.$set(h.attr,k.href)};p.paramExpr&&(d.$watch(p.paramExpr,function(b){b!==k.params&&a(b)},!0),k.params=r.copy(d.$eval(p.paramExpr)));a();h.clickable&&m.bind("click",ma(m,b,e,h,function(){return k}))}}}function oa(b,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(d,m,n,l){function p(a){f.state=
a[0];f.params=a[1];f.options=a[2];f.href=b.href(f.state,f.params,f.options);h&&h.$$addStateInfo(f.state,f.params);f.href&&n.$set(k.attr,f.href)}var k=la(m),h=l[1]||l[0];l="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(a){return a||"null"}).join(", ")+"]";var f={state:null,params:null,options:null,href:null};d.$watch(l,p,!0);p(d.$eval(l));k.clickable&&m.bind("click",ma(m,b,e,k,function(){return f}))}}}function V(b,e,d){return{restrict:"A",controller:["$scope","$element","$attrs",
"$timeout",function(e,n,l,p){function k(c,d,f){var g=b.get(c,ka(n)),h;h=d;if(!y(c))throw Error("state should be a string");E(h)?h=c+pa(h):(h=e.$eval(h),h=E(h)?c+pa(h):c);a.push({state:g||{name:c},params:d,hash:h});q[h]=f}function h(){for(var c=0;c<a.length;c++)b.includes(a[c].state.name,a[c].params)?f(n,q[a[c].hash]):n.removeClass(q[a[c].hash]),b.is(a[c].state.name,a[c].params)?f(n,g):n.removeClass(g)}function f(a,b){p(function(){a.addClass(b)})}var a=[],q={},g,c;g=d(l.uiSrefActiveEq||"",!1)(e);try{c=
e.$eval(l.uiSrefActive)}catch(r){}c=c||d(l.uiSrefActive||"",!1)(e);E(c)&&t(c,function(a,c){if(y(a)){var d=ja(a,b.current.name);k(d.state,e.$eval(d.paramExpr),c)}});this.$$addStateInfo=function(b,d){E(c)&&0<a.length||(k(b,d,c),h())};e.$on("$stateChangeSuccess",h);h()}]}}function qa(b){var e=function(d,e){return b.is(d,e)};e.$stateful=!0;return e}function ra(b){var e=function(d,e,n){return b.includes(d,e,n)};e.$stateful=!0;return e}var v=r.isDefined,w=r.isFunction,y=r.isString,E=r.isObject,A=r.isArray,
t=r.forEach,u=r.extend,U=r.copy,pa=r.toJson;r.module("ui.router.util",["ng"]);r.module("ui.router.router",["ui.router.util"]);r.module("ui.router.state",["ui.router.router","ui.router.util"]);r.module("ui.router",["ui.router.state"]);r.module("ui.router.compat",["ui.router"]);Y.$inject=["$q","$injector"];r.module("ui.router.util").service("$resolve",Y);$.$inject=["$http","$templateCache","$injector"];r.module("ui.router.util").service("$templateFactory",$);var G;C.prototype.concat=function(b,e){var d=
{caseInsensitive:G.caseInsensitive(),strict:G.strictMode(),squash:G.defaultSquashPolicy()};return new C(this.sourcePath+b+this.sourceSearch,u(d,e),this)};C.prototype.toString=function(){return this.source};C.prototype.exec=function(b,e){function d(a){function b(a){return a.split("").reverse().join("")}a=b(a).split(/-(?!\\)/);a=I(a,b);return I(a,function(a){return a.replace(/\\-/g,"-")}).reverse()}var m=this.regexp.exec(b);if(!m)return null;e=e||{};var n=this.parameters(),l=n.length,p=this.segments.length-
1,k={},h,f,a;if(p!==m.length-1)throw Error("Unbalanced capture group in route '"+this.source+"'");var q,g;for(h=0;h<p;h++){a=n[h];q=this.params[a];g=m[h+1];for(f=0;f<q.replace.length;f++)q.replace[f].from===g&&(g=q.replace[f].to);g&&!0===q.array&&(g=d(g));v(g)&&(g=q.type.decode(g));k[a]=q.value(g)}for(;h<l;h++){a=n[h];k[a]=this.params[a].value(e[a]);q=this.params[a];g=e[a];for(f=0;f<q.replace.length;f++)q.replace[f].from===g&&(g=q.replace[f].to);v(g)&&(g=q.type.decode(g));k[a]=q.value(g)}return k};
C.prototype.parameters=function(b){return v(b)?this.params[b]||null:this.$$paramNames};C.prototype.validates=function(b){return this.params.$$validates(b)};C.prototype.format=function(b){function e(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}b=b||{};var d=this.segments,m=this.parameters(),n=this.params;if(!this.validates(b))return null;var l,p=!1,k=d.length-1,h=m.length,f=d[0];for(l=0;l<h;l++){var a=l<k,q=m[l],g=n[q],c=g.value(b[q]),
r=g.isOptional&&g.type.equals(g.value(),c),s=r?g.squash:!1,c=g.type.encode(c);a?(a=d[l+1],q=l+1===k,!1===s?(null!=c&&(f=A(c)?f+I(c,e).join("-"):f+encodeURIComponent(c)),f+=a):!0===s?(s=f.match(/\/$/)?/\/?(.*)/:/(.*)/,f+=a.match(s)[1]):y(s)&&(f+=s+a),q&&!0===g.squash&&"/"===f.slice(-1)&&(f=f.slice(0,-1))):null==c||r&&!1!==s||(A(c)||(c=[c]),0!==c.length&&(c=I(c,encodeURIComponent).join("&"+q+"="),f+=(p?"&":"?")+(q+"="+c),p=!0))}return f};D.prototype.is=function(b,e){return!0};D.prototype.encode=function(b,
e){return b};D.prototype.decode=function(b,e){return b};D.prototype.equals=function(b,e){return b==e};D.prototype.$subPattern=function(){var b=this.pattern.toString();return b.substr(1,b.length-2)};D.prototype.pattern=/.*/;D.prototype.toString=function(){return"{Type:"+this.name+"}"};D.prototype.$normalize=function(b){return this.is(b)?b:this.decode(b)};D.prototype.$asArray=function(b,e){if(!b)return this;if("auto"===b&&!e)throw Error("'auto' array mode is for query parameters only");return new function(b,
e){function n(b,d){return function(){return b[d].apply(b,arguments)}}function l(b){return A(b)?b:v(b)?[b]:[]}function p(b){return!b}function k(b,d){return function(a){if(A(a)&&0===a.length)return a;a=l(a);a=I(a,b);if(!0===d)return 0===S(a,p).length;a:switch(a.length){case 0:a=void 0;break a;case 1:a="auto"===e?a[0]:a;break a}return a}}this.encode=k(n(b,"encode"));this.decode=k(n(b,"decode"));this.is=k(n(b,"is"),!0);this.equals=function(b){return function(d,a){var e=l(d),g=l(a);if(e.length!==g.length)return!1;
for(var c=0;c<e.length;c++)if(!b(e[c],g[c]))return!1;return!0}}(n(b,"equals"));this.pattern=b.pattern;this.$normalize=k(n(b,"$normalize"));this.name=b.name;this.$arrayMode=e}(this,b)};r.module("ui.router.util").provider("$urlMatcherFactory",aa);r.module("ui.router.util").run(["$urlMatcherFactory",function(b){}]);ba.$inject=["$locationProvider","$urlMatcherFactoryProvider"];r.module("ui.router.router").provider("$urlRouter",ba);ca.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"];r.module("ui.router.state").factory("$stateParams",
function(){return{}}).provider("$state",ca);da.$inject=[];r.module("ui.router.state").provider("$view",da);r.module("ui.router.state").provider("$uiViewScroll",function(){var b=!1;this.useAnchorScroll=function(){b=!0};this.$get=["$anchorScroll","$timeout",function(e,d){return b?e:function(b){return d(function(){b[0].scrollIntoView()},0,!1)}}]});var fa=r.version.major,ga=r.version.minor;ea.$inject=["$state","$injector","$uiViewScroll","$interpolate"];ia.$inject=["$compile","$controller","$state","$interpolate"];
r.module("ui.router.state").directive("uiView",ea);r.module("ui.router.state").directive("uiView",ia);na.$inject=["$state","$timeout"];oa.$inject=["$state","$timeout"];V.$inject=["$state","$stateParams","$interpolate"];r.module("ui.router.state").directive("uiSref",na).directive("uiSrefActive",V).directive("uiSrefActiveEq",V).directive("uiState",oa);qa.$inject=["$state"];ra.$inject=["$state"];r.module("ui.router.state").filter("isState",qa).filter("includedByState",ra)})(window,window.angular);