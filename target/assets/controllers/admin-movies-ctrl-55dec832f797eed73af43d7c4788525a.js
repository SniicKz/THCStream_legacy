streamaApp.controller("adminMoviesCtrl",["$scope","apiService","modalService","$state",function(b,d,e,f){b.loading=!0;d.movie.list().success(function(a){b.movies=a;b.loading=!1});b.openMovieModal=function(){e.movieModal(null,function(a){f.go("admin.movie",{movieId:a.id})})};b.doSearch=function(a){return d.theMovieDb.search("movie",a).then(function(a){b.suggestedMovies=a.data})};b.addFromSuggested=function(a,e){var c=angular.copy(a),g=c.id;delete c.id;c.apiId=g;d.movie.save(c).success(function(a){e?
f.go("admin.movie",{movieId:a.id}):b.movies.push(a)})};b.alreadyAdded=function(a){console.log("%c movie","color: deeppink; font-weight: bold; text-shadow: 0 0 5px deeppink;",a);return a.id&&_.find(b.movies,{apiId:a.id.toString()})}}]);