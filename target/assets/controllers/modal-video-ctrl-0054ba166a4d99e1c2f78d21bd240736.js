streamaApp.controller("modalVideoCtrl",["$scope","$uibModalInstance","apiService","video","isManual","tvShow",function(a,c,d,f,g,e){a.loading=!1;a.addManually=g;a.episode=f||{};a.saveEpisode=function(b){e&&(b.show=e.id);delete b.dateCreated;delete b.lastUpdated;d.episode.save(b).success(function(b){c.close(b);alertify.success("Video saved.")}).error(function(){alertify.error("An error occured.")})};a.deleteVideo=function(b){alertify.set({buttonReverse:!0,labels:{ok:"Yes",cancel:"Cancel"}});alertify.confirm("Are you sure you want to delete this Episode?",
function(a){a&&d.video.delete(b.id).success(function(){c.close({deleted:!0})})})};a.refetch=function(b){alertify.set({buttonReverse:!0,labels:{ok:"Yes",cancel:"Cancel"}});alertify.confirm("Are you sure you want to re-fetch the meta-data from TheMovieDb? All your changes except for the added files will be overridden.",function(a){a&&d.video.refetch(b.id).success(function(a){_.assign(b,a);alertify.success("Fetch successful")})})};setTimeout(function(){$(".name-input").focus()},200);a.cancel=function(){c.dismiss("cancel")}}]);