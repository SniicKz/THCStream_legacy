streamaApp.controller("playerCtrl",["$scope","apiService","$stateParams","playerService","$rootScope",function(a,e,f,b,g){e.video.get(f.videoId).success(function(d){a.video=d;d=b.handleMissingFileError(a.video);var c=b.handleWrongBasepathError(a.video);d||c||(a.videoOptions=b.setVideoOptions(a.video));b.registerSocketListener()});g.$on("$stateChangeStart",function(a,c){"player"!=c.name&&b.destroyPlayer()});a.$on("playerSession",function(a,c){b.handleSocketEvent(c)})}]);