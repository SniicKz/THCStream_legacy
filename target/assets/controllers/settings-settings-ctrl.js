streamaApp.controller("settingsSettingsCtrl",["$scope","apiService","$sce",function(b,c,d){c.settings.list().success(function(a){b.settings=a;_.forEach(a,function(a){a.description=d.trustAsHtml(Autolinker.link(a.description,{newWindow:"true"}))});b.loading=!1});b.updateMultipleSettings=function(a){a.invalid=!1;c.settings.updateMultiple(a).success(function(){window.location.reload();alertify.success("Settings saved.")})};b.validateSettings=function(a){b.changeValue(a);b.loading=!0;c.settings.validateSettings(a).success(function(c){alertify.success(c.message||
"validation successful");a.valid=!0;b.loading=!1}).error(function(c){alertify.error(c.message);a.invalid=!0;b.loading=!1})};b.changeValue=function(a){a.valid=void 0;a.invalid=void 0;a.dirty=a.value};b.anySettingsInvalid=function(){return _.find(b.settings,function(a){return a.invalid||a.dirty&&!a.valid||!a.value&&a.required})};b.resetBaseURL=function(a){a.value="http://localhost:8080";a.valid=!0}}]);