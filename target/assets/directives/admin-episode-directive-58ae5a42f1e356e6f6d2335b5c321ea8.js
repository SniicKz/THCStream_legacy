streamaApp.directive("adminEpisode",["uploadService","modalService","apiService",function(c,b,e){return{restrict:"AE",templateUrl:"directive--admin-episode.htm",scope:{episode:"="},link:function(a,f,g){a.uploadStatus={};a.editEpisode=function(a){b.videoModal(a,null,null,function(b){b.deleted&&(a.deleted=!0)})};a.openFileBrowser=function(){b.openFileBrowser(function(d){e.video.addFile(a.episode.id,d.id).success(function(){a.episode.files=a.episode.files||[];a.episode.files.push(d)})})};a.manageFiles=
function(a){b.fileManagerModal(a)};a.upload=c.doUpload.bind(c,a.uploadStatus,"video/uploadFile.json?id="+a.episode.id,function(b){a.uploadStatus.percentage=null;a.episode.files=a.episode.files||[];a.episode.files.push(b)})}}}]);