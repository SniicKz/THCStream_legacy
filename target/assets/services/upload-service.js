streamaApp.factory("uploadService",["$http","Upload","$location",function(k,d,l){return{doUpload:function(e,f,g,b){var h=$("base").attr("href");if(b&&b.length)for(var c=0;c<b.length;c++)d.upload({url:h+f,sendObjectsAsJsonBlob:!0,file:b[c]}).progress(function(a){a=parseInt(100*a.loaded/a.total);e.percentage=a}).success(g||angular.noop).error(function(a){console.log("%c err","color: deeppink; font-weight: bold; text-shadow: 0 0 5px deeppink;",arguments);alertify.error("File upload failed. Please close this popup and try again.")})}}}]);